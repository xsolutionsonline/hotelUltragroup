<mat-card-header>
    <mat-card-title><h2>Información de Huespedes</h2></mat-card-title>
</mat-card-header>

<div class="scroll-container" *ngIf="this.reservationForm">
    <form [formGroup]="reservationForm" (ngSubmit)="saveReservation()">

        <div formArrayName="users">
            <div *ngFor="let guest of users.controls; let i = index" [formGroupName]="i" class="guest-container">
                <mat-card-header>
                    <mat-card-title>Huésped {{ i + 1 }}</mat-card-title>
                </mat-card-header>

                <mat-card-content>
                    <div class="row">

                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Nombres</mat-label>
                            <input matInput type="text" formControlName="firstName">
                        </mat-form-field>



                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Apellido</mat-label>
                            <input matInput type="text" formControlName="lastName">
                        </mat-form-field>

                    </div>

                    <div class="row">

                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Fecha de Nacimiento</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="birthDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>



                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Género</mat-label>
                            <mat-select formControlName="gender">
                                <mat-option *ngFor="let option of genderOptions" [value]="option.value">{{ option.label
                                    }}</mat-option>
                            </mat-select>
                        </mat-form-field>

                    </div>

                    <div class="row">

                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Tipo de Documento</mat-label>
                            <mat-select formControlName="documentType">
                                <mat-option *ngFor="let option of documentTypeOptions" [value]="option.value">{{
                                    option.label }}</mat-option>
                            </mat-select>
                        </mat-form-field>



                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Número de Documento</mat-label>
                            <input matInput type="text" formControlName="documentNumber">
                        </mat-form-field>

                    </div>

                    <div class="row">

                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Email</mat-label>
                            <input matInput type="email" formControlName="email">
                        </mat-form-field>



                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Teléfono de Contacto</mat-label>
                            <input matInput type="tel" formControlName="phoneNumber">
                        </mat-form-field>

                    </div>
                </mat-card-content>
            </div>
        </div>

        <div formGroupName="emergencyContact">
            <mat-card-header>
                <mat-card-title><h1>CONTACTO DE EMERGENCIA</h1></mat-card-title>
            </mat-card-header>

            <mat-card-content>
                    <div class="row">
    
                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Nombres Completos</mat-label>
                            <input matInput type="text" formControlName="fullName">
                        </mat-form-field>
    
    
    
                        <mat-form-field class="middle-width">
                            <mat-label class="label-login">Teléfono de Contacto</mat-label>
                            <input matInput type="number" formControlName="phoneNumber">
                        </mat-form-field>
    
                    </div>
            </mat-card-content>
        </div>

        <div>
            <button mat-raised-button color="primary" type="submit" [disabled]="this.reservationForm.invalid">Guardar Reserva</button>
            <button mat-button (click)="dialogRef.close()">Cancelar</button>
        </div>
    </form>
</div>